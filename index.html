<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ArcGIS JavaScript Tutorials: Create a Starter App</title>
  <style>
    html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>
  
    <link rel="stylesheet" href="https://js.arcgis.com/4.15/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.15/"></script>
  
  <script>

	var point_template_area = {
					title: "{Name}",
					content: "Khu vực này ở <b>{Location}</b>."
				};
	var point_template_district = {
					title: "{Name}",
					content: "Quận ở <b>{Location}</b>."
				};
	var jsondata = {

		"lines":[
			{
				type: "polyline",
				paths: [
					[106.79134386128325, 10.866997521468168],
					[106.79413335865881, 10.865395978158253],
					[106.79833906239429, 10.864637349380688],
					[106.80366056507997, 10.867882581189418],
					[106.8083812529463, 10.873403608756607],
					[106.80511968678411, 10.875552988801912],
					[106.80318849629333, 10.876522311989321],
					[106.80074232167169, 10.876522311989321],
					[106.79949777668874, 10.878798101871515],
					[106.79675119465743, 10.878882390052073],
					[106.78988473957912, 10.875637277899806],
					[106.79134386128325, 10.866997521468168]
				],
				symbol: {
					type: "simple-line",
					color: [226, 119, 40], // orange
					width: 2
				},
				Name: "Làng đại học",
				Location: "Quận Thủ Đức",
				popupTemplate: point_template_area
			}
		],
		"polygons":[
			{
				type: "polygon",
				rings: [
					[105.44335618554717, 10.002140832041567],[105.35340562402385, 10.100176346962618],[105.53193345605486, 9.919632842521672],[105.50309434472678, 9.946686940509323],[105.4701353603518, 9.975091332440703],[105.44472947656278, 10.001464621973792],[105.41863694726594, 10.0264834563669],[105.3630186611332, 10.07516321556907],[105.35271897851604, 10.100852350567575],[105.31907334863327, 10.139382204607568],[105.3101469570317, 10.136002577987773],[105.30190721093797, 10.144113621979805],[105.29916062890673, 10.14005812565381],[105.22500291406307, 10.202912537214683],[105.26070848046929, 10.246159983137595],[105.26414170800835, 10.240078667005294],[105.28886094628956, 10.25832226531956],[105.28817430078175, 10.261024931262543],[105.29023423730519, 10.265754541127018],[105.29984727441455, 10.275213548699039],[105.30602708398484, 10.271835364192938],[105.31083360253952, 10.271835364192938],[105.33555284082074, 10.237375822402411],[105.44060960351592, 10.270484080282914],[105.42687669335969, 10.302237723919802],[105.4515959316409, 10.30831784428107],[105.4749418789065, 10.311020082333474],[105.48249497949242, 10.316424488874768],[105.48867478906271, 10.32317986655989],[105.49279466210959, 10.325881977017918],[105.51064744531269, 10.311695638224013],[105.5339933925783, 10.298859828592585],[105.56489244042982, 10.273186642327572],[105.58549180566416, 10.252241182597773],[105.61570420800786, 10.214400714132418],[105.6232573085938, 10.188044869364512],[105.65758958398438, 10.148844969445753],[105.70496812402337, 10.119103910529216],[105.75028672753893, 10.090712147357236],[105.79354539453107, 10.056233069327174],[105.81826463281227, 10.021074142154431],[105.8436705166013, 9.98320641843611],[105.82719102441384, 9.972386258844109],[105.79972520410138, 9.962242032905817],[105.77363267480453, 9.956831650056477],[105.75921311914048, 9.958184254179038],[105.73792710839832, 9.96765232601882],[105.73243394433584, 9.969004885270294],[105.72900071679678, 9.971709986935982],[105.72213426171865, 9.973062529348734],[105.71595445214837, 9.96494719068228],[105.71320787011712, 9.957507952818517],[105.70359483300774, 9.957507952818517],[105.69878831445307, 9.954126424995305],[105.69329515039055, 9.954126424995305],[105.67887559472653, 9.94939222720195],[105.67818894921872, 9.942628968471332],[105.67200913964841, 9.940599963558107],[105.66102281152342, 9.948039586656057],[105.67200913964841, 9.963594614598673],[105.658962875, 9.966976044288746],[105.65758958398438, 9.969004885270294],[105.65140977441406, 9.974415066147133],[105.6472899013672, 9.976443860816179],[105.64660325585939, 9.966976044288746],[105.63905015527345, 9.958184254179038],[105.63287034570314, 9.960213149850784],[105.63012376367192, 9.953450115227204],[105.63012376367192, 9.948715907629152],[105.622570663086, 9.948039586656057],[105.62119737207037, 9.947363264282743],[105.58343186914071, 9.98320641843611],[105.58686509667979, 9.98996883556],[105.57450547753916, 9.99402621835824]
					
				],
				Name: "Đây là đâu",
				Location: "ĐÂY LÀ CẦN THƠ",
				symbol: {
					type: "simple-fill",
					color: [227, 139, 79, 0.4],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_district
			},
			{
				type: "polygon",
				rings: [
					[106.79522769993694, 10.870537744603572],
					[106.79522769993694, 10.8687044200089],
					[106.79466980046185, 10.866913229929262],
					[106.7956139380351, 10.866618209355593],
					[106.79672973698534, 10.866639282263392],
					[106.79750221318164, 10.867018594349172],
					[106.79733055180469, 10.867987945267126],
					[106.7971374327556, 10.868156527714055],
					[106.79741638249315, 10.868535837871478],
					[106.79760950154225, 10.869589474667853],
					[106.79715889042772, 10.87039023614485],
				],
				Name: "Đại học Nông Lâm",
				Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
				symbol: {
					type: "simple-fill",
					color: [0, 153, 0, 0.4],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_district
			}
			
		]
	};
    require([
      "esri/Map",
      "esri/views/MapView",
      "esri/Graphic",
      "esri/layers/GraphicsLayer"
    ], function(Map, MapView, Graphic, GraphicsLayer) {

		var map = new Map({
		basemap: "topo-vector"
		});
		 map.on("load", function(){
          map.graphics.enableMouseEvents();
        });

		var view = new MapView({
		container: "viewDiv",
		map: map,
		center: [105.7468535, 10.0451618],
		zoom: 15,
          highlightOptions: {
            color: "blue"
          }
		});
		var createGraphic = function (data) {
			return new Graphic({
				geometry: data,
				symbol: data.symbol,
				attributes: data,
				popupTemplate: data.popupTemplate
			});
		}; 
		var graphicsLayer = new GraphicsLayer();

		// jsondata.lines.forEach(function(data){
		// 	graphicsLayer.add(createGraphic(data));
		// });
		jsondata.polygons.forEach(function(data){
			graphicsLayer.add(createGraphic(data));
		});
		map.add(graphicsLayer);
		

    });
  </script>
</head>
<body>
  <div id="viewDiv"></div>
</body>
</html>